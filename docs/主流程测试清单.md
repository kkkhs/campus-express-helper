# 主流程测试清单

> **重要提示**：此清单用于验证小程序的核心功能流程，确保不出现任何问题。请在每次重要更新后按照此清单进行完整测试。

---

## 一、用户认证流程

### 1.1 首次登录
- [ ] 打开小程序，点击"立即登录"按钮
- [ ] 授权微信信息（头像、昵称）
- [ ] 检查是否成功创建用户记录
- [ ] 检查用户信息是否正确显示
- [ ] 检查是否正确缓存到本地

**预期结果**：
- 用户信息正确显示在个人中心
- 全局数据和本地存储都有用户信息
- 新用户默认评分为 5.0

### 1.2 重复登录
- [ ] 退出小程序
- [ ] 重新打开小程序
- [ ] 检查是否自动登录
- [ ] 检查用户信息是否保持一致

**预期结果**：
- 无需重新授权
- 用户信息从缓存中正确加载
- 后台自动刷新最新数据

### 1.3 退出登录
- [ ] 进入个人中心
- [ ] 点击"退出登录"按钮
- [ ] 确认退出对话框
- [ ] 检查是否清除所有用户数据
- [ ] 检查是否跳转到首页

**预期结果**：
- 全局数据清除
- 本地存储清除
- 自动跳转到首页
- 首页显示"立即登录"按钮

---

## 二、个人中心功能

### 2.1 页面加载
- [ ] 进入个人中心页面
- [ ] 检查用户头像是否显示
- [ ] 检查用户昵称是否显示
- [ ] 检查信用分是否显示
- [ ] 检查统计数据是否加载（发布数、接单数、完成数）
- [ ] 检查联系方式是否显示（手机、微信）

**预期结果**：
- 所有信息正确显示
- 未填写的信息显示"未设置"
- 统计数据正确（与实际数据一致）

### 2.2 编辑资料
- [ ] 点击"编辑资料"按钮
- [ ] 检查弹窗是否正确打开
- [ ] 检查表单数据是否正确回显
- [ ] 输入手机号（正确格式）
- [ ] 输入微信号
- [ ] 点击"保存"按钮
- [ ] 检查是否保存成功
- [ ] 检查页面数据是否更新

**预期结果**：
- 弹窗正常打开和关闭
- 表单数据正确回显
- 保存成功提示
- 联系方式立即更新显示

**异常情况测试**：
- [ ] 输入错误格式手机号（如：123456）
- [ ] 检查是否显示"手机号格式不正确"提示
- [ ] 手机号和微信号都不填写
- [ ] 检查是否显示"请至少填写一项联系方式"提示

### 2.3 同步微信信息
- [ ] 点击"同步信息"按钮
- [ ] 授权获取微信信息
- [ ] 检查是否同步成功
- [ ] 检查头像和昵称是否更新

**预期结果**：
- 授权流程正常
- 信息同步成功提示
- 头像和昵称立即更新

**异常情况测试**：
- [ ] 点击"同步信息"后取消授权
- [ ] 检查是否无错误提示（静默处理）

---

## 三、任务发布流程

### 3.1 发布新任务
- [ ] 进入"发布任务"页面
- [ ] 填写任务标题
- [ ] 选择快递类型
- [ ] 填写取件码
- [ ] 填写配送地址
- [ ] 设置报酬金额
- [ ] 填写备注信息
- [ ] 点击"发布任务"按钮
- [ ] 检查是否发布成功

**预期结果**：
- 所有必填项验证正确
- 发布成功提示
- 自动跳转到任务大厅
- 任务列表中显示新发布的任务

**异常情况测试**：
- [ ] 不填写标题，尝试发布
- [ ] 不填写取件码，尝试发布
- [ ] 报酬设置为0，尝试发布
- [ ] 检查是否都有相应的错误提示

### 3.2 查看我的发布
- [ ] 进入个人中心
- [ ] 点击"我的发布"菜单
- [ ] 检查任务列表是否正确显示
- [ ] 点击任务查看详情
- [ ] 检查任务详情是否完整

**预期结果**：
- 任务列表正确显示
- 任务状态正确（待接单、已接单、已完成等）
- 任务详情完整准确

### 3.3 取消任务
- [ ] 在"我的发布"中找到待接单的任务
- [ ] 点击"取消任务"按钮
- [ ] 确认取消对话框
- [ ] 检查任务状态是否变为"已取消"

**预期结果**：
- 取消成功提示
- 任务状态更新为"已取消"
- 统计数据保持正确

---

## 四、接单流程

### 4.1 浏览任务
- [ ] 进入"任务大厅"页面
- [ ] 检查任务列表是否正确显示
- [ ] 检查任务卡片信息是否完整（标题、报酬、状态等）
- [ ] 点击任务卡片查看详情

**预期结果**：
- 任务列表正确加载
- 只显示"待接单"状态的任务
- 任务详情完整显示

### 4.2 接单操作
- [ ] 在任务详情页点击"我来帮忙"按钮
- [ ] 确认接单对话框
- [ ] 检查是否接单成功
- [ ] 检查发布者联系方式是否显示
- [ ] 检查任务状态是否变为"已接单"

**预期结果**：
- 接单成功提示
- 任务状态更新
- 显示发布者联系方式（手机、微信）
- 可以拨打电话或复制微信号

**异常情况测试**：
- [ ] 尝试接自己发布的任务
- [ ] 检查是否显示"不能接自己的任务"提示

### 4.3 查看我的接单
- [ ] 进入"我的接单"页面
- [ ] 检查订单列表是否正确显示
- [ ] 点击订单查看详情
- [ ] 检查订单详情是否完整

**预期结果**：
- 订单列表正确显示
- 订单状态正确（进行中、已完成等）
- 订单详情完整准确

### 4.4 完成订单
- [ ] 在订单详情页点击"确认完成"按钮
- [ ] 输入取件码验证
- [ ] 确认完成
- [ ] 检查订单状态是否变为"已完成"
- [ ] 检查是否跳转到评价页面

**预期结果**：
- 取件码验证正确
- 订单状态更新为"已完成"
- 自动跳转到评价页面
- 统计数据更新（完成订单数 +1）

**异常情况测试**：
- [ ] 输入错误的取件码
- [ ] 检查是否显示"取件码错误"提示

---

## 五、评价流程

### 5.1 发布评价
- [ ] 完成订单后进入评价页面
- [ ] 选择评分（1-5星）
- [ ] 输入评价内容
- [ ] 点击"提交评价"按钮
- [ ] 检查是否提交成功

**预期结果**：
- 评价提交成功
- 自动返回我的接单页面
- 评价记录保存到数据库

### 5.2 查看评价
- [ ] 进入个人中心
- [ ] 点击"我的评价"菜单
- [ ] 检查评价列表是否正确显示
- [ ] 区分"我收到的评价"和"我写的评价"
- [ ] 检查评价详情是否完整

**预期结果**：
- 评价列表正确显示
- 评价详情完整（评分、内容、时间）
- 我收到的评价影响我的信用分

---

## 六、管理员功能（仅管理员）

### 6.1 进入后台管理
- [ ] 使用管理员账号登录
- [ ] 检查个人中心是否显示"后台管理"菜单
- [ ] 点击"后台管理"进入管理页面

**预期结果**：
- 管理员账号显示"后台管理"菜单
- 非管理员账号不显示该菜单
- 管理页面正确加载

### 6.2 用户管理
- [ ] 查看用户列表
- [ ] 检查用户信息是否完整
- [ ] 测试封禁用户功能
- [ ] 测试解封用户功能

**预期结果**：
- 用户列表正确显示
- 封禁/解封操作成功
- 被封禁用户无法发布任务和接单

### 6.3 任务管理
- [ ] 查看所有任务列表
- [ ] 检查任务信息是否完整
- [ ] 测试删除违规任务功能

**预期结果**：
- 任务列表正确显示
- 删除操作成功
- 被删除任务不再显示

### 6.4 投诉管理
- [ ] 查看投诉列表
- [ ] 检查投诉详情
- [ ] 测试处理投诉功能

**预期结果**：
- 投诉列表正确显示
- 投诉详情完整
- 处理结果正确保存

---

## 七、数据一致性检查

### 7.1 统计数据一致性
- [ ] 发布1个任务，检查个人中心"发布数"是否 +1
- [ ] 接1个任务，检查个人中心"接单数"是否 +1
- [ ] 完成1个任务，检查个人中心"完成数"是否 +1
- [ ] 取消任务后，检查统计数据是否保持正确

**预期结果**：
- 所有统计数据与实际操作一致
- 取消任务不影响统计数据
- 多次刷新数据保持一致

### 7.2 任务状态一致性
- [ ] 发布任务后，任务状态为"待接单"
- [ ] 被接单后，任务状态变为"已接单"
- [ ] 完成后，任务状态变为"已完成"
- [ ] 取消后，任务状态变为"已取消"
- [ ] 检查多个页面的任务状态是否一致

**预期结果**：
- 任务状态流转正确
- 所有页面显示的状态一致
- 状态变更后立即更新

### 7.3 用户信息一致性
- [ ] 修改联系方式后，检查个人中心显示
- [ ] 检查任务详情页显示的联系方式
- [ ] 检查其他用户看到的联系方式
- [ ] 退出重新登录，检查信息是否保持

**预期结果**：
- 所有页面显示的用户信息一致
- 修改后立即生效
- 重新登录信息保持不变

---

## 八、异常情况处理

### 8.1 网络异常
- [ ] 断开网络连接
- [ ] 尝试加载页面
- [ ] 检查是否有友好的错误提示
- [ ] 恢复网络后，检查是否能正常加载

**预期结果**：
- 网络错误时显示友好提示
- 不会出现白屏或崩溃
- 恢复网络后自动重试

### 8.2 权限异常
- [ ] 使用非管理员账号尝试访问后台管理
- [ ] 尝试修改其他用户的信息
- [ ] 尝试完成不属于自己的订单

**预期结果**：
- 所有越权操作都被拦截
- 显示"无权限"提示
- 不会造成数据错误

### 8.3 数据异常
- [ ] 发布任务时输入超长文本
- [ ] 输入特殊字符
- [ ] 输入SQL注入代码

**预期结果**：
- 所有异常输入都被正确处理
- 不会造成程序崩溃
- 不会造成安全问题

---

## 九、性能检查

### 9.1 页面加载速度
- [ ] 测试首页加载时间（应 < 2秒）
- [ ] 测试任务列表加载时间（应 < 3秒）
- [ ] 测试详情页加载时间（应 < 2秒）

**预期结果**：
- 所有页面加载流畅
- 无明显卡顿
- 使用loading提示

### 9.2 操作响应速度
- [ ] 测试点击按钮响应时间
- [ ] 测试页面跳转速度
- [ ] 测试表单提交速度

**预期结果**：
- 所有操作响应迅速
- 有明确的操作反馈
- 不会出现重复提交

---

## 十、兼容性测试

### 10.1 设备兼容性
- [ ] iPhone 测试（建议 iOS 14+）
- [ ] Android 测试（建议 Android 8+）
- [ ] iPad 测试
- [ ] 不同屏幕尺寸测试

**预期结果**：
- 所有设备上UI正常显示
- 功能完全正常
- 无布局错乱

### 10.2 微信版本兼容性
- [ ] 最新版微信测试
- [ ] 较旧版微信测试（如 8.0.x）

**预期结果**：
- 所有支持的微信版本都能正常运行
- 不支持的功能有降级处理

---

## 测试记录

| 测试项 | 测试时间 | 测试人 | 测试结果 | 备注 |
|--------|----------|--------|----------|------|
| 用户认证流程 | | | | |
| 个人中心功能 | | | | |
| 任务发布流程 | | | | |
| 接单流程 | | | | |
| 评价流程 | | | | |
| 管理员功能 | | | | |
| 数据一致性 | | | | |
| 异常情况处理 | | | | |
| 性能检查 | | | | |
| 兼容性测试 | | | | |

---

## 问题记录

发现问题时请记录：

| 问题描述 | 重现步骤 | 优先级 | 状态 | 解决方案 | 解决时间 |
|---------|---------|--------|------|---------|---------|
| | | | | | |

---

**测试清单版本**：v1.0  
**最后更新时间**：2025年12月19日  
**适用版本**：小程序 v1.0.1

---

## 注意事项

1. **测试前准备**
   - 确保已部署最新的云函数
   - 清除小程序缓存
   - 使用测试账号进行测试

2. **测试顺序**
   - 建议按照清单顺序逐项测试
   - 发现问题立即记录
   - 严重问题需立即修复后再继续测试

3. **测试数据**
   - 使用真实但不重要的测试数据
   - 测试完成后清理测试数据
   - 不要使用生产环境数据测试

4. **测试频率**
   - 每次发布前必须完整测试一遍
   - 重要功能修改后重点测试相关流程
   - 定期回归测试（建议每周一次）
